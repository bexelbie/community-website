---
index: false
---

- if defined? author

  - if author_card(author)
    = partial :blog_author, locals: { author: author, h1: true }

  %hr

  %h2
    Articles from
    = author_name author

  - if pages

    %section.articles
      - pages.select{ |p| defined? p.date }.sort_by(&:date).reverse.each do |page|
        - if (defined? page.title) && (defined? page.published && page.published?)
          = partial :blog_post, locals: {article: page, summarize: 400}

- else

  .authors-list

    -# Sort by number of blog articles, then author's full name
    - blog.articles.group_by {|p| p.data.author}.sort_by {|a, p| [-p.count, author_name(a).downcase]}.each do |author, pages|

      .author-list
        = partial :blog_author, locals: { author: author, no_about: true }
        .author-photo= author_photo(author)

        %ul
          - pages.each do |page|
            %li= link_to page.title, page.url
